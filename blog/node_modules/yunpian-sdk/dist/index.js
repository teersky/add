'use strict';

var _fs = require('fs');

var _fs2 = _interopRequireDefault(_fs);

var _phone = require('phone');

var _phone2 = _interopRequireDefault(_phone);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var lazyLoad = function lazyLoad(service) {
  return function () {
    return require('./' + service);
  }().default;
};
var list = _fs2.default.readdirSync(__dirname);

list.forEach(function (item) {
  if (_fs2.default.statSync(__dirname + '/' + item).isDirectory()) {
    exports[item.toUpperCase()] = lazyLoad(item);
  }
});

exports.phone = function (number) {
  var location = arguments.length <= 1 || arguments[1] === undefined ? '' : arguments[1];

  if (number.indexOf('+') === -1 && location === '') {
    return (0, _phone2.default)(number, 'CHN').length !== 0;
  }
  return (0, _phone2.default)(number, location).length !== 0;
};